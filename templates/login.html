{% extends "base.html" %}

{% block title %}
Login
{% endblock %}

{% block content %}
    <form id="login-form">
        <input type="text" id="username" placeholder="Username">
        <input type="password" id="password" placeholder="Password">
        <button type="submit">Login</button>
    </form>

    <script>
        document.getElementById('login-form').addEventListener('submit', function(event) {
            event.preventDefault();
            var username = document.getElementById('username').value;
            var password = document.getElementById('password').value;
            
            // Send username and password to the server for authentication
            $.post("/api/login", { username: username, password: password })
                .done(function(data) {
                    alert("Authenticated successfully!");
                    // Redirect to the home page
                    window.location.href = "/";
                })
                .fail(function(jqXHR, textStatus, errorThrown) {
                    alert("Authentication failed: " + jqXHR.responseJSON.error);
                });
        });
    </script>
{% endblock %}
