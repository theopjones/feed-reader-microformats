<!--
Copyright 2023 by Theodore Jones tjones2@fastmail.com 

This code is licensed under the The Parity Public License 7.0.0

As far as the law allows, this software comes as is, without any 
warranty or condition, and the contributor won't be liable to anyone
for any damages related to this software or this license, 
under any kind of legal claim.
-->

{% extends "base.html" %}

{% block title %}
Logout
{% endblock %}

{% block content %}
<script>
$(document).ready(function() {
    $.get("/api/destroy_current_api_key")
        .done(function() {
            // Remove the 'api_key' cookie
            document.cookie = "api_key=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;";

            // Redirect to the login page
            window.location.href = "{{ url_for('login_route') }}";
        })
        .fail(function() {
            console.error("Error destroying API key.");
        });
});
</script>
{% endblock %}
